# 훔쳐보기 (Peeking)

좋습니다, 우린 그 살 떨리는 `push` 와 `pop` 고개를 무사히 넘겼습니다. 솔직히 빈말 못 하겠네요, 그 과정 내내 심장이 꽤나 울컥 철렁 내려앉으며 감정 기복 쫄깃한 순간(emotional)들이 많았습니다. 컴파일-타임에서 검증되는 오류 없는 완벽함(Compile-time correctness)의 안도감은 참 짜릿한 마약선이죠.

이제 머리도 식힐 겸 아주 단순 유치한 꿀잡거리 하나로 뇌 좀 쓰다듬어(cool off) 줍시다: 그냥 만만한 `peek_front` 훔쳐 읽기 도구 하나만 뚝딱 연성 구현해 보죠. 옛날엔 이건 눈 감고 발가락으로도 굴리던 진짜 숨 쉬기보다 허접한 제일 만만따리 기초 꿀(really easy) 파츠였잖습니까. 당연히 지금도 눈 감고 떡 먹기 수준이겠죠, 앙?

안 그래요? (Right?)

사실 전, 걍 속 편히 저번 번주꺼 슥 복붙(copy-paste) 해오면 치트 패스될 거란 킹리적 갓심에 확신 찹니다!

```rust ,ignore
pub fn peek_front(&self) -> Option<&T> {
    self.head.as_ref().map(|node| {
        &node.elem
    })
}
```

잠깐. 안돼, 이번엔 안 먹혀.

```rust ,ignore
pub fn peek_front(&self) -> Option<&T> {
    self.head.as_ref().map(|node| {
        // 야 너 차용 대출 패스권 끊어야 통과시켜준대!!!! (BORROW!!!!)
        &node.borrow().elem
    })
}
```

에-라이 젠장-하. (HAH.)

```text
cargo build

error[E0515]: cannot return value referencing temporary value
  --> src/fourth.rs:66:13
   |
66 |             &node.borrow().elem
   |             ^   ----------^^^^^
   |             |   |
   |             |   temporary value created here
   |             |
   |             returns a value referencing data owned by the current function
```

좋아 알았어 걍 당장 홧김에 이 망할 고철 컴퓨터 박스 불살라 부숴 화형(burning my computer) 시켜버릴랍니다.

진짜 억장이 무너지네요, 이 로직은 백 번 양보해서 예전 우리가 돌리던 그 낡아빠진 옛 가변 단방향 스택(singly-linked stack) 녀석의 숨구멍 로직 코드랑 진짜 100% 한 치 오차도 없는 똑같은(exactly the same) 완벽한 거울 쌍둥이 데칼코마니 판박이잖아요. 근데 도대체 왜 똑같은 걸 줬는데 반응이 다른 딴소릴 씨부리는 거죠. 왜냐고 진짜. (WHY.)

그 기막힌 빡침의 해답이야말로 이번 장막 챕터 전체 에피소드를 꿰뚫는 가슴 저미고 피맺힌 잔혹 동화 명언 철칙 교훈(moral) 본질 그 자체입니다: RefCell이라는 이 더러운 요망한 그릇 기생 포장지는 들이대는 순간 만병 만물 세계선의 필드 모든 것들을 절망 수치 통곡의 슬픔 구렁텅이(sadness) 구덩이로 끌고 들어가 추락시켜 버립니다. 지금 방금 이 찰나 직전 전까지만 해도 거슬리고 귀찮긴 했어도 얼추 꾹 참고 달고 넘어갈 만한(nuisance) 그냥 징그럽고 띠꺼운 각질 거머리 신세 같은 것로 참고 견딜만한 존재였죠. 하지만 이제부턴 이야기가 좀 크게 다를 겁니다, 이녀석은 우리 수명 깎아 먹으며 진짜 피 말려 죽일 최악의 꿈틀대는 악몽 군단(nightmare) 재앙으로 흑화 돌변 각성할 테니까요.

그래서 대관절 방금 장막 뒤편에서 뭔 난리이 터진(what's going on) 겁니까? 그 피 말리는 해답 진상 조사를 분석 추적하려면 불가피하게도 저 문제의 원흉인 빌어먹을 암막 꼼수 메서드 도구 `borrow` 녀석 호적 명부 증명서 등본 정의 체계(definition) 선언부 구문 족보의 근간으로 다시금 뒤로 거꾸로 파고(go back to) 올라가야 합니다:

```rust ,ignore
fn borrow<'a>(&'a self) -> Ref<'a, T>
fn borrow_mut<'a>(&'a self) -> RefMut<'a, T>
```

우리가 저기 앞쪽 옛날 옛적 레이아웃(layout) 구상 초반 극초기에 이런 잡썰을 언급한 전례가 있었습니다:

> 다만 이 깐깐한 심사가 정적 컴파일(statically) 검사망에서 미리 차단당하는 게 아니라, RefCell 녀석은 이 규율 위반 검열을 프로그램 런타임(runtime) 실행 직전 단계로 미뤄버립니다. 만약 당신이 겁도 없이 이 철칙을 위반해 이중 대출 짓거리를 벌이다 적발(break the rules)되는 날엔, 의례적인 RefCell 판사는 가차 없이 냅다 패닉(panic) 철퇴를 날려 모가지를 처형(crash)시켜 뻗게 만들어 버립니다. 
> 근데 이녀석은 대체 왜 쓸데없이 저런 기괴한 `Ref` 나 `RefMut` 따위의 껍데기 포장지(things)들을 토해내는 걸까요? 뭐, 까놓고 말하면 녀석들의 동작 습성은 대략 `Rc` 류의 수명 감시망 역할과 비스름한데 이건 대여 빌림용(for borrowing)이란 것만 다를 뿐입니다. 심지어 감시병인 이녀석이 스코프 밖으로 벗어나 죽어 없어지기(out of scope) 전까진 RefCell 본체 대여 권한 자물쇠를 지독하게 잡아끌어 감시 유지(keep borrowed)시켜주는 족쇄 역할까지 해냅니다. **어차피 이 골칫거리는 좀 이따 뒤에서 나중에 상대할 테니(We'll get to that later)** 넘어갑시다.

그 '좀 이따 나중(later)' 구역이 드디어 도래했습니다.

저 `Ref` 와 `RefMut` 포장 형편없는 것 껍질 녀석들은 각기 고유하게 자동 가변 역참조 환전술 마법 `Deref` 랑 `DerefMut` 훈장을 트레이트 부속으로 이식 구현 탑재 장착해 둔(implement respectively) 편의 요정들입니다. 고로 우리가 보편적으로 바라보는 상식망의 목적 체계 시야 한도 인가 범위(most intents and purposes) 내에서라면, 얘네들은 그저 착하고 고분고분하게 사실상 완벽한(exactly) 참조자 `&T` 와 `&mut T`의 분신 거울 행동 대행자 아바타처럼 감쪽같이 둔갑 위장해 굴러줍니다. 허나 단 한 가지 역겨운 치명적 함정이 도사리는데, 바로 그 빌어먹을 Deref 편의 트레이트 부속 장치가 기동 발동하며 환원 토해 동작 배출 추출 반환해 뱉어낸 그 실속 '알맹이 참조자(reference)'라는 녀석 생체 본드 연결선 이음새 수명 주기 줄(lifetime)은, 진짜배기 원조 근간 몸체인 저 깊은 단전 속 RefCell 본체 뿌리에 연동 수명 동기화 귀속 매듭 지어 결속 연결(connected to) 당한 게 절대로 오롯이 아니거니와, 오로지 이 환전 마법 껍데기 시전의 장본인 발동 당사자 허울 껍데기 `Ref` 포장 봉투 딱지 자신의 허상 시한부 생존 목줄(lifetime of the Ref) 라인에 밧줄 채워 억거지 귀속 가스라이팅 종속 연결로 동맹 도원결의 연명 귀속(connected) 묶여버렸다는 기막힌 파탄 모순입니다. 이 끔찍한 진실의 내막의 파급이 의미하는 바는 즉, 우리가 만에 하나라도 저 환전술로 속아 뽑아낸 가짜 '알맹이 참조자' 꼬맹이 패스권 같은 것를 밖깥세상의 영광 아래 주워다 굴려 돌려 쥐고 유지 보존 소유 감상(keep the reference around) 누리며 살아 숨 쉬고자 한다면, 필시 무조건 그 모든 순간동안 영겁 찰나 내내 옆자리 감방 부적격 호위 수행원 동행인인 저 문제의 보증인 껍데기 증서 원본 `Ref` 부적 본체 녀석팡이도 살처분 없이 내다 버리지 못한 채 좀비처럼 동반 강제 장기 체류 생명선 강제 점거 짱박기 방치 호흡 지박령(sitting around as long as) 공존 투병 연명 공생 동반 생존 족쇄 강점을 어거지로 함께 견뎌 감내 유지 부양해야만 한단 끔찍한 모순의 무한 동력 수작질입니다.

사실 이 말도 안 되는 난리맞은 결박 연대는, 시스템 체제의 올바르고 무결한 완전 통제(correctness) 법치를 고수 지탱하기 위해선 실증적으로 정말 절실하고 필연 필수 불가결(necessary)한 치명적 핵심 장치 중 하나입니다. 저 망할 증서 `Ref` 종이 쪼가리 껍데기 녀석이 세상 쓰임이 바닥나서 바스라져 폐기 소멸(dropped)로 파기될 그 찰나의 순간, 얘는 무덤 입구 문지방을 밟다 말고 죽기 직전 최후의 뻐꾸기 유언 송출 단말마 기계 신호를 본단 깊숙이 처박힌 전당포 본점 조물주 RefCell에게 쏘아 올려 "대감마님, 이제 절 빌려간 젠장녀석 고객 대여 딱지 예약 걸쇠 락 하나 종료됐습니다요" 라고 외치는 은밀한 알람 취소 보고 체계 통보 연동망(tells the RefCell that it's not borrowed anymore) 트리거 신호탄 발사 스위치 통신 구실 역할을 겸임 자백 수행하기 때문입니다. 고로 이 살 떨리는 안전망 속에서 만약 우리가 기어이 미쳐 시스템 헛점을 치트 농간으로 창구 보안 따내 뚫어내서, 진짜 증서 딱지 본주 원본 `Ref` 보증인 보호막 수명 종이 껍데기는 진작에 형편없는 것통 처박아 태워 종말 사살(Ref existed) 해 소멸 부식 처리 파손 없애버린 주제에 뻔뻔하게 그가 사기로 부풀려 미리 편법 환전 발급 대주 담보물로 땡겨 창조 발급 남겨 유산으로 뱉어 쥐여준 파생 위조품 '가짜 참조자(reference)' 자식 꼬맹이의 점유 유지 패스 대여권력만큼은 여전히 우리네 호주머니 뒷구멍에 음습하게 숨겨 안 버리고 은닉 밀반출 유지 보존(hold onto) 은닉 존버 강점 장착해 장수 무병 누릴 수 있는 망상의 야매 편법 루트망 구멍이 허상 가능(managed to) 했다 칩시다; 그럼 우리는 저 무기한 장수 생존 무허가 유령 위조 스파이 참조자 같은 것 녀석 하나를 기약 없이 좀비처럼 세상에 버젓이 풀어 방치 배회(kicking around) 누비게 냅둔 모습 와중 동시에 황당한 척하고 배타성 철칙 대출인 `RefMut` 독재 대출권 창구마저 또 하나 우걱 중복 겹쳐 동시 다발 발급 인가 쟁취 소환 따내버리는(could get a RefMut) 희대의 복제 대출 쌍방 사기 위조 개판 우주 파괴를 자행해 창조 충돌 교착 폭파를 일으킬 수 있으며, 그 결과 그 잘나고 절대 신성한 맹신의 정수인 위대한 우주 방어 Rust 타임 언어 심판 체계 타입 율법 시스템 제국망 전체(Rust's type system)의 근본 기둥 모가지를 딱 절반으로 아작(totally break in half)내 토막 도륙 내 박살 낼 수 있게 되어버립니다. 

그래 대충 그렇다 치죠, 그럼 도대체 우린 어떻게 이 답도 없는 암초(where does that leave us?) 소굴 생태계를 벗어난답니까? 씨볼 우리는 그저 정말 소박하고 순수하게 저 알맹이 향기에 닿을 단순 참조자 패스권 하나 딸랑 얻어 귀환(only want to return a reference) 반환받길 원치 않았거늘, 이 시스템은 우리 목구멍에 냅다 칼을 들이대고 저 빌어먹을 무거운 고철 덩어리 `Ref` 영수증 증서 껍질 덩어리마저 의무 반납 없이 안고 뒈져라 장기 보존 점거 연명(keep this Ref thing around) 수호 보관 유지하라는 황당한 종속 연대 철칙 짐짝 구속 조건을 억압 강요합니다. 허나 우리가 야심 차게 기획한 저 하찮은 `peek` 훔쳐보는 구경꾼 함수 녀석의 구도 설계 한계 메커니즘 굴레 모습 통제 여건상으론, 우리 입에서 원했던 순수 '참조자' 같은 것가 토사물 반환 반출 궤도(return the reference) 통로 문턱을 넘어 우리 외부 소매 밖으로 발사 투척 찰그락 안착 빠져나가는 바로 즉각 그 즉시의 찰나 순간 타임에, 저 망할 `peek` 단기 파견 오지랖 수행 함수 계약 고용 녀석의 근무 파견 시한 틱타임 목숨도 전부 한계 카운트 도달 소진 종말 만료 사살 소멸되어버리며(the function is over), 필연적으로 함수 스코프 텐트 지지대가 부셔짐과 동시에 그 안 방공호에 칩거 연명 강점 빌붙어 처박혀 존버해 도사리던 그 존귀한 귀속 포장 증서 `Ref` 부적 본체 짚풀 시체 껍질마저 허공 공허 스코프 경계 소멸 나락의 나락으로 증발 아사 강제 동반 처형 소멸(goes out of scope) 삭제 박멸 진공 청소 분쇄기 쓸림 추락 사태를 겪을 수밖에 없는 끔찍한 치명적 시야 단절 파훼 치명 약점 한계 제약 치명 파탄 병크 구조적 굴레가 자명합니다.

😖 (아이 씨바 아찔하네 으아악)

적어도 여태껏 제 한심한 고도성장 통찰력과 지식 밑천의 견문 옹졸한 수용량 데이터 구도 체제 통계 지식 시야 범위 추정치 기준(As far as I know) 바닥 도구망 한계 상으로는, 우린 젠장 지금 이 망각 늪지대 교착 웅덩이 암초 구역 한가운데서 도저히 배를 띄우고 나아갈 생존 확률이 완전 무동력 100% 교착 침몰 포위 오도 가도 고립무원 사각 영구 스탑 동결 사망 완전 정지(totally dead in the water) 뻗은 죽을 개노답 봉쇄 상태인 게 빼박 맞습니다. 이딴 구제 불능의 골칫덩이 RefCell 따위의 독극물 파편 형편없는 것 치명 오물 도구 장치 기믹들을 억지로 외부 시선으로부터 감쪽같이 완벽 위장 밀폐 철갑 차단 은폐 속임수(totally encapsulate) 장막 세탁 필터 캡슐 포장 차단막 밀봉 통제 덮기 기만 봉수 위장질로 깔끔 무결 은폐 축소 방관 통제하는 꼼수 야매 세탁 공작은 원천 봉쇄 1도 어림 반 푼어치 원천 불가(can't) 개씹불가인 게 팩트입니다.

하지만... 하지만 말입니다요 우리가 만약(what if) 애시당초 그 알량 자존심 개나 주고 처음부터 그 알맹이 깊숙한 심부 구멍의 내부 치부 속살 원장 정보 구현 부품 부속(implementation details) 구석 체계의 치부 노출 감춤 차단 은닉 밀폐 막음 세탁 은폐 기만 캡슐화 포장 공작에 대한 아집 환상 독선 목표 희망 수호 방어 고집 사수 미련 방벽 따위를 그냥 모조리 처절하게 시원히 깔끔 탈탈 철회 단념 백기 투항 상실 체념 굴복 내던져(give up on) 버린다면 어찌 될까요?
그러니까 다 까놓고 그냥 저 망할 껍데기 영수증 덩어리 증서 부적 `Refs` 자체를 냅다 통째로 토해 역류 반환 반출 배출(returns) 선물 세트로 던져 줘버리면(What if) 어떨까요?

```rust ,ignore
pub fn peek_front(&self) -> Option<Ref<T>> {
    self.head.as_ref().map(|node| {
        node.borrow()
    })
}
```

```text
> cargo build

error[E0412]: cannot find type `Ref` in this scope
  --> src/fourth.rs:63:40
   |
63 |     pub fn peek_front(&self) -> Option<Ref<T>> {
   |                                        ^^^ not found in this scope
help: possible candidates are found in other modules, you can import them into scope
   |
1  | use core::cell::Ref;
   |
1  | use std::cell::Ref;
   |
```

뭭. (Blurp.) 또 저런 거지 같은 형편없는 것 부속 따위 좀비 쪼가리들을 억지로 억까 불법 반입 import 소환 밀입국 등재 명부(Gotta import some stuff) 신고 등록 이식 수입 조달 청구 절차 치러야 귀찮게 구는군요.


```rust ,ignore
use std::cell::{Ref, RefCell};
```


```text
> cargo build

error[E0308]: mismatched types
  --> src/fourth.rs:64:9
   |
64 | /         self.head.as_ref().map(|node| {
65 | |             node.borrow()
66 | |         })
   | |__________^ expected type parameter, found struct `fourth::Node`
   |
   = note: expected type `std::option::Option<std::cell::Ref<'_, T>>`
              found type `std::option::Option<std::cell::Ref<'_, fourth::Node<T>>>`
```

흠... (Hmm...) 맞네요 니미랄 한 번에 뚫어주면 어디 덧나나 (that's right). 우리가 지금 삽질해 겨우 건져내 쥐고 있는 형편없는 것 수납 부적 껍데기 덩어리는 망치로 쪼개 까고 껍질 분류 판독 감정 결과 `Ref<Node<T>>` 이라는 거지 발싸개 같은 불순물 혼합 역병 감염 등급 파츠인데, 반면 고객 클라이언트 도련님들께서 아가리 벌리고 수령 대기 수취 열망 기대 갈증 애가 타 애타게 바라는 희망 스펙 청구 요규 정답 구격 물품의 참 모습 실체는 순결 청아 깨끗 이슬 추출 마술의 극한 정점 단일 코어 알맹이 온리 파츠 `Ref<T>` 님 족보라는 참 끔찍한 앙숙 상극 등식 대치 오류 불합치 불통 상황입니다. 솔직히 이 사면초가 진퇴양난 절망 늪에서 그냥 우리의 모든 남은 알량 가오 은폐 축소 캡슐 밀폐 포장 은닉 안전 기만(encapsulation) 위선 변명 신념 수호 희망 아집 발버둥 희망의 끈 가치 끈 미련 사수 목표 희망 가치관 자존심 방어벽 희망 희구 망상 전선 염원 희망을 모조리 죄다 파기 단념 버리 포기 몰살 파괴 체념 말소 백기 포기 항복 산화 처참히 내려놓고(abandon all hope) 완전히 개판 치며 만세 삼창 외치곤 걍 저 개똥 형편없는 것 오물 감염체 등급 혼합 혼종 구닥다리 복합 덩어리 `Ref<Node<T>>` 박스 수납 고철 덩이 물건 그 자체를 무지성 무조건 무대포 투명 대방출 날것 생으로 고객에게 투척 방치(just return that) 시전해 버리는 막무가내 막장 수작 타파 강제 우회 일탈 루트도 가능은 합니다. 아니면 역으로 더 깊은 마의 심연 변태 흑마술의 진수 나락까지 파고들어 말도 안 되는 짓 발작을 개시해, 저 혐오스런 이중 삼중 뚱뚱이 파츠 `Ref<Node<T>>` 혼합물을 아예 또 새로운 허울 껍데기 새 타입 포장재 상자 박스 구라 랩핑 위조 위장 가짜 포장지로 빙빙 한 겹 더 치장 둘러 방탄 미라 도배 랩핑 빙빙 씌워 감싸 봉인 포장(wrap) 압살 억지 도배 밀봉시켜 은닉 가림 포장질해버리곤 겉으로 대놓고 뻔뻔한 선빵 사기극 주입 허위 공작으로 "야 이 껍데기 자판기 툭 치면 무조건 딱 하나 오직 순정 참조자 `&T` 만 뽑아 열람 허가 접근 권한(expose access) 뱉어주는 마법 상자다 사가라" 라며 진짜 코드를 이중 삼중 우주급 역대 급 대차게 황당한개 개잡탕 썩은물 난리 혼돈 복마전 아수라 파멸 개판 더럽고 복잡 난장 지옥 마굴 복잡 심화 극대 팽창 파란(make things even more complicated) 아수라장으로 구렁텅이 늪지 나락 강하로 인도 빠트려 처넣어 버리는 쌍욕 야매 기획안도 책상 위엔 있습니다.

근데 솔직히 저 두 황당한년 널뛰는 작전 선택지 후보군 아이디어 쌍방 병풍 둘 다 진짜 *뭔가 좀(kinda)* 아스트랄 뇌수 빠진 노잼 허접 장애 수준의 오물 비참 빈약 초라 바보 쪼다 나약 형편없는 것 부적격 혐오 꼴통 역겹 찐따 하급 절망 냄새 쿨하지 못해 지리멸렬 구질 진상 바보 머저리(lame) 수준이네요.

그래서 그런 진상 형편없는 것 뻘소리 대리 대안 선택지 옵션 기각 철회 집어치우고 헛소리 타파 대신(Instead), 이번엔 이왕 이렇게 엿 먹은 김에 진짜 시스템 창자 저 밑바닥 심연 속 맨 아래 음침 어둑 음흉 심해저 밑바닥 구멍속 저 끝까지 한 번 시원하게 잠수 깊이 침투 강하 돌진 다이브 추락 입수 파고들기(go deeper down) 여행 굴탐을 감행 결의 강행 돌파 결심 작정 밀어붙일 심산입니다. 우리 아주 유쾌 기똥차고 병맛 넘치게 *즐거운 파티 유흥 타임 뇌파괴 매드무비(fun)* 스릴 잔치 환락 쇼타임 쑈 한번 거하게 놀아 벌려 보시죠. 우리가 이 혼돈의 미치광이 축제 난장 파티 환락경 쇼타겟 댄스타임 유흥 장난 쇼 무대의 뽕을 뽑을 파티 스릴 짜릿 근원 촉매 분비 유희 쾌락 환락 재미 공급 발흥 젠장 원천 발산(source of fun) 유물 재물 폭탄 타겟 핵심 아이템 주인공 무기는 바로, 저 음습 어둠 시스템 심연 공식문서 저 밑단 나락 바닥 음지 구석 심연 음영 구멍 틈바구니에 쳐 박혀 웅크려 똬리 틀고 암약 서식 도사리는 이 기괴하고 흉측 거대한 *전설의 흑마술 도구 마물 돌연변이 혼종 변태 괴수 요물장치(this beast)* 입니다:

```rust ,ignore
map<U, F>(orig: Ref<'b, T>, f: F) -> Ref<'b, U>
    where F: FnOnce(&T) -> &U,
          U: ?Sized
```

> 기 보유 선점 차용 대여 확보 중장착 점거 락(borrowed data) 상태에 종속된 낡은 옛 껍질 원형 알맹이 파츠 구성품(component) 일부의 조각 파편 도막 편린 티끌 부속물 도막 뭉치를 새롭게 타겟 저격 발라 조명 환승 스캔 씌워 타겟 교체 투사 핀셋 이동 저격 탈바꿈 탈취 교체 분신 점거 복제 생성 연성 덧씌울 교환 이전 신규 `Ref` 껍데기 보증 포장 영수증 딱지 위조 마법 창조 파생 환승 복사 파생 주입 발급(Make a new Ref for) 생성 재연성 제조 위변조 발급 연성 조제 도출 도출 창조 시전 투하 구현 마술 발동 동작 액션 수행.

네 맞습니다 (Yes): 마치 여러분이 심심하면 허구한 날 단물 빨듯 입에 달고 쳐우려 빼 빨아먹던 저 옵션 `Option` 상자 머리통 위에다 냅다 치트키 비비듯 마법의 변환 주문 투사 스무디 필터 조작 변신 스캔 변환 함수 필터 변조 망 `map` 그물망 덮어 씌우기 조작질(map over an Option) 날먹 비비기를 구사 척척 시전 자행 애용 남용하셨던 그 찰진 짜릿 추억 역대급 쾌감 감각 행위 모습 작태 로직 루틴과 놀랍도록 100% 한 치 소름 돋게 똑같은 동일 완벽 메커니즘 궤적 패턴 동일 원리 작용 방식 복원력 재탕 우려먹기 이치처럼, 세상에나 이 망할 미련 철갑 고철 전당포 감옥 자물쇠 증서 딱지 `Ref` 모습 표면 방어벽 위에도 감히 기만 요술 그물망 필터 덧씌움 함수 도구 투척 기믹 변환 투사경 `map` 마법 필터 강제 복제 분신 필터 렌즈 환승 스위칭 변형 세탁 조리 탈바꿈 조작 변환 복제 환승(map over a Ref) 농간 짓거리를 고스란히 버젓이 똑같이 복제 모방 투사 비틀어 비비기 무력 도발 시전 조작 연성 가동 발동 시연 구현 합법 도발 투척 시연 작동 실행이 거뜬 뚝딱 철철 완벽 적용 관통 먹혀든다는 그 황당한 충격 공포 전율 쇼킹 사실입니다!

전 확신 장담 예언 맹세하건대(I'm sure) 진짜 장담컨대 분명 저기 세상 밖 어딘가 지구 저편 구석 어떤 썩어빠진 이상한 변종 외계 찐따 고인물 학자 변태 녀석 녀석(someone somewhere) 하나는 지금 이 기이 기괴 현상 기믹 도구 목격 발현 작동 원리 발견 작태 모습를 보고 감격에 겨워 "우와아아아앙 씨바아아알 저기 그 위대 존엄 영광 거룩 궁극 갓 성스러움의 극한 정점 초월 진리 이데아 궁극 결정체인 무려 *모나드(monads)* 님 혹은 뭐 그딴 요상 학문적 기호 학술적 대수학 사상 이단 용어 계파 논리 구조 어쩌고 저쩌고 징그럽 발악 망상 환각" 어쩌고 큰 난리 염병 호들갑 떨며 오금 바들 지리며 눈물 콧물 액체 폭발 질질 싸며 흥분 광분 쾌감 절정 진동 카타르시스 아우성 비명 발작 흥분 오줌 배출(is really excited because) 난리을 만끽 즐감하고 있겠지만 젠장 전 그딴 골치 아픈 수학 같은 것 철학 따위나 무슨 이단 학문 용어 같은 거에 진짜 단 1그램 눈곱 1도 관심 신경 문제까 전혀 조또 아예 없고 전혀 상종 안 하며 형편없는 것통 처박아 신경 끄고(don't care about any of that) 삽니다. 애초에 덧붙여 까놓고 팩폭 분석하자면 내가 볼 땐 구조상 빈 깡통 실패 깡통 낙오 좌절 함정 구멍인 None 같은 것 찌끄레기 예외 방어 처분 케이스 실패 처리 분기 구멍 배제로직 룸 옵션 나락 부재(no None-like case) 설계 탈피 결함 허술 공백마저 완연 명백 확연해 보여서 저따구 반푼이 하자품 기믹 찌꺼기를 감히 진짜베기 그 고귀 숭상 궁극 진성 순혈 리얼 정통 오리지널 진짜 참된 순수 모나드(a proper monad) 이치 정론 격체로 인정 맹신 승급 처주기에도 정말 쪽팔려 급 미달 허접 부족 오바 억지 억텐 망상 허수라 반박 주장 부정 태클 걸고(don't think) 싶지만, 뭐 젠장 암튼 내 알빠 조또 관심 밖 아웃 쩌리 상관 노잼이니 걍 대충 무시 잡소리 주제이탈 헛소리 브레이크 정차 여기서 스탑 끊고 킵고잉 진행할랍니다(but I digress).

이건 정말 젠장 그냥 막 지리게 조오오온나 멋지고 시크하고 엄청나게 개씹 문제간지 지리는(It's cool) 역대급 치트 환장 요술 뽕맛 쾌감 기술이고 당장 오직 저에게 있어 유일 무이 구원 생존 탈주 진리 해결 구명 동아줄 결론 판단 가치 평가 척도 유의미 핵심 중대 방점 결론 전부(that's all that matters to me)란 게 팩트입니다. *난 당장 젠장 지금 엄청나게 이게 미치도록 절실 필수 불가결 당장 지금 정말 필요 갈급해 황당한다고 지금!!!! (I need this).*

```rust ,ignore
pub fn peek_front(&self) -> Option<Ref<T>> {
    self.head.as_ref().map(|node| {
        Ref::map(node.borrow(), |node| &node.elem)
    })
}
```

```text
> cargo build
```

오우예에에에에 야아아아스으으으 삐이익 (Awww yissss)

어디 진짜 이게 진짜 안 죽고 통과 멀쩡 굴러가는 기적의 허상 야바위가 아닌지 이 악마의 검증 도구 작동 테스트를, 저번 스택 같은 것 묘지 구덩이 무덤 고고학 파묘에서 발굴 적출 탈취 훔쳐 약탈 납치 소환해 온 기존 허접 옛 테스트 실험 코드를 좀 황당한듯이 마구 뜯어고치고 누더기 땜질 너덜너덜 우겨 패고 강제 수선 비틀고 억지 지지고 볶고 칼질 오려 붙여 강제 결합(munging) 성형 재연성 조작 개조 시켜 현장에 등판 투입해 봅시다. 사실 이딴 더럽고 귀찮 거슬 수고스러운 기만 땜빵 난도질 조작질 마개조 누더기 수술 개편 개조(do some munging) 편법 타파 짓거리가 아주 징그럽 필연 요구 강제 동반(We need to) 되는 눈물겨운 애환 이유가 뭐냐면, 우리가 무심코 대충 덜렁 발급 뱉어 내던진 이 황당한 괴물 형편없는 것 종이쪼가리 `Refs` 부적 녀석들의 DNA 시스템 구조엔 애초에 그 망할 동등 크기 비교 연산 등식 가치 비교 잣대 판별 저울 승부 평가(implement comparisons) 부속 장비 따위의 개념 센서 기능은 아예 호적 태생 생략 절제 이탈 결여 거세 원천 미포함(don't) 부재 빠진 깡통 먹통 바보 쪼다 같은 것기 땜시 이걸 극복 억지 우회 조작 대조 판단 처리(to deal with the fact) 대응하기 위함입니다.


```rust ,ignore
#[test]
fn peek() {
    let mut list = List::new();
    assert!(list.peek_front().is_none());
    list.push_front(1); list.push_front(2); list.push_front(3);

    assert_eq!(&*list.peek_front().unwrap(), &3);
}
```

```text
> cargo test

     Running target/debug/lists-5c71138492ad4b4a

running 10 tests
test first::test::basics ... ok
test fourth::test::basics ... ok
test second::test::basics ... ok
test fourth::test::peek ... ok
test second::test::iter_mut ... ok
test second::test::into_iter ... ok
test third::test::basics ... ok
test second::test::peek ... ok
test second::test::iter ... ok
test third::test::iter ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured

```

개조아 찢어버려따 젠장!!! (Great!)
